<!doctype html>
<html>
<head>
    <title></title>

    <style type="text/css">
        body {
            font-family : Verdana, "Bitstream Vera Sans", "DejaVu Sans", Tahoma, Geneva, Arial, Sans-serif;
            font-size: 13px;
        }

        .vis.timeline .item.background.negative {
            background-color: rgba(255, 120, 0, 0.2) !important;
            z-index:99999 !important;
        }
        .vis.timeline .item.background.positive {
            background-color: rgba(113, 255, 34, 0.20) !important;
            z-index:99999 !important;
        }
        .vis.timeline .item.background {
            background-color: rgba(40, 148, 255, 0.20) !important;
            z-index:99999 !important;
            height:34px !important;
        }
        .vis.timeline .labelset .timelineGroup .inner {
            /*height:100px !important;*/
            width:120px !important;
        }


        /*.vis.timeline .item.pause{*/
            /*top:20px !important;*/
            /*width:20px;*/
            /*border-color: #a6a6a6;*/
            /*background-color: #ebebeb;*/
            /**/
        /*}*/

        .vis.timeline .item.range {
            height:34px !important;
        }

        .vis.timeline .item.range.pause{
            height:34px !important;
            width:26px !important;
            box-shadow: rgba(0,0,0,0.2) 0px 0px 10px !important;
            padding:3px !important;
            z-index:9999;
        }


        .vis.timeline .item.range.finished{
            border-color: #7d807d !important;
            background-color: #ccf5c9 !important;
        }

        .vis.timeline .item {
            border-radius: 0px !important;
            border-color: #7d807d !important;
            background-color: #f2f8ff !important;
        }
        .vis.timeline .item.box {
            height:22px !important;
            border-radius: 0px !important;
            border-color: #7d807d !important;
            background-color: #f2f8ff !important;
        }

        img.icon{
            width:16px;
            height:16px;
        }
    </style>

    <script type="text/javascript" src="vis.js"></script>
    <script type="text/javascript" src="evejs.js"></script>
    <script type="text/javascript" src="./arumAgents/job.js"></script>
    <script type="text/javascript" src="./arumAgents/durationStats.js"></script>
    <script type="text/javascript" src="./arumAgents/durationData.js"></script>
    <script type="text/javascript" src="./arumAgents/jobManager.js"></script>
    <script type="text/javascript" src="./arumAgents/jobAgent.js"></script>

    <script type="text/javascript">
        'use strict';
        var timeline;
        var timelineItems = new vis.DataSet();
        var timelineGroups = new vis.DataSet();

        var graph2d;
        var graph2dDataset = new vis.DataSet();
        var graph2dGroups = new vis.DataSet();
        var eventCounter;

        function draw() {
            eventCounter = document.getElementById('eventCounter');

            // add items to the DataSet
            var timelineContainer = document.getElementById('timeline');
            var timelineOptions = {
                start: '2014-09-21', // changed so its faster
                end: '2014-09-23',
                autoResize: false,
                showCustomTime: true,
                showCurrentTime: false,
                stack: false
            }
            timeline = new vis.Timeline(timelineContainer, timelineItems, timelineOptions, timelineGroups);
        }

        var JAVA_EVENTS_URL = 'ws://localhost:8082/ws/events';
        var AMOUNT_OF_INITIAL_EVENTS = 20;
        var conn;

        eve.system.init({
            transports: [
                {
                    type: 'ws'
                }
            ]
        });

    </script>
    <script type="text/javascript" src="./arumAgents/genericAgent.js"></script>
    <script type="text/javascript" src="./arumAgents/agentGenerator.js"></script>
    <script type="text/javascript" src="./arumAgents/jobAgentGenerator.js"></script>
    <script type="text/javascript" src="./arumAgents/eventGenerator.js"></script>

    <script>
        var agentList = {};
        var jobList = {};
        var agentGen = new AgentGenerator("agentGenerator");
        var jobGen = new JobAgentGenerator("jobAgentGenerator");
        var eventGen = new EventGenerator("frank");


//        eventGen.start();
        function getNewEvent() {
            agentGen.getEvents(1);
        }

        function getAllEvents() {
            agentGen.getEvents(agentGen.amountOfEvents);
        }

        function refreshJobs() {

        }
    </script>

    <link href="vis.css" rel="stylesheet" type="text/css" />

</head>
<body onload="draw()">
<input type="button" value="click me for new event!" onclick="getNewEvent()">
eventNo:<div id="eventCounter" style="display:inline;">-1</div>
<input type="button" value="get the rest of the events!" onclick="getAllEvents()">
<div id="timeline"></div>
<input type="button" value="refreshJobs" onclick="refreshJobs()">
<div id="graph2d"></div>

<p id="selection"></p>
<p id="stabilization"></p>
</body>
</html>
